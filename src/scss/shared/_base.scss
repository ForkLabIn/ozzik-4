@import "vars";

/* ======= Style ======= */
body {
	margin: 0;
	color: $color-text;
	font-size: .85em;
	line-height: 1.5;
}

body,
.overlay,
.overlay-loading,
.strip-menu-button-content { background: $color-background; }

body,
input,
textarea,
.meta { font-family: 'Bitter', serif; }

.titlelike,
h1,
h2,
h3,
.teaserline-tag,
.project-button {
	font-family: 'Cabin', serif;
	font-weight: bold;
	font-size: .95rem;
}
h3 {
	text-transform: uppercase;
	font-size: .75rem;
	letter-spacing: .08em;
}
.title-colored { color: $color-main-light; }

ul,
ol,
dl {
	margin: 0;
	padding: 0;
	list-style: none;
}
dd,
dt { display: inline-block; }
dd {
	margin-left: .35rem;

	&:not(:last-child) { margin-bottom: .35rem; }
}

/* ======= Shared ======= */
.contact-link,
.back-button::before,
.project-button.dead::before,
.project-cue::before,
.strip-menu-button-content::before {
	background-image: image-url("ui.png", false, false);

	@include retina {
		background-image: image-url("ui@2x.png", false, false);
		background-size: 132px 88px;
	}
}

/* ======= Architecture ======= */
html,
body,
.pages { height: 100%; }

.wrapper { margin: 0 auto; }

.va-wrapper {
	display: table;
	width: 100%;
	height: 100%;
}
.va-content {
	display: table-cell;
	vertical-align: middle;
	@extend .centered;
}

// Pages
.pages { height: 100% * $pages; }
.page {
	@extend .va-wrapper;
	position: relative;
	height: 100% / $pages;
}

.footer {
	position: absolute;
	bottom: 0;
	left: 0;
	width: 100%;
	padding-bottom: 1.5rem;
	font-size: .6rem;
	line-height: 1.2;
}

/* ======= Grid ======= */
.columns { letter-spacing: -.25rem; }
.column {
	display: inline-block;
	vertical-align: top;
	letter-spacing: normal;

	&:not(:first-child) { margin-left: $size-grid-gutter; }

	*:first-child { margin-top: 0; }
}
@for $i from 1 to 5 {
	.column-#{$i} { width: ($size-grid-column * $i) + ($size-grid-gutter * ($i - 1)); }
}
.column-mid { vertical-align: middle; }

/* ======= Components ======= */
.meta {
	font-size: inherit;
	text-align: right;
	line-height: 1.1;
}
.meta,
.metalike,
.teaserline-tag,
.about-title { color: $color-text-light; }
.meta,
.metalike {
	font-style: italic;
	font-weight: normal;
}

.teaserline {
	position: relative;
	width: 100%;
	text-align: center;

	&.link {
		position: absolute;
		bottom: 0;
	}

	&.top { top: 0; }
	&.bottom { bottom: 0; }
	
	&::before {
		content: "";
		display: inline-block;
		width: 2px;
		height: 100%;
	}
}
.teaserline-tag-wrapper {
	position: absolute;
	width: 100%;
	text-transform: uppercase;
}
.teaserline-tag {
	padding: .4em .6em .35em;
	border-radius: 3px;
	font-size: .75rem;
	letter-spacing: .05em;
	@include transition(all $duration $easing-cubic-rough);

	&.attention {
		background: #d2d9f1;
		color: $color-main-light;
	}
}
.teaserline-tag-about { top: 0; }
.teaserline-tag-project { bottom: 1em; }

a,
.linklike {
	text-decoration: none;
	
	// Every link that isn't custom (no line)
	&:not(.custom) {
		border-bottom: 1px solid;
		color: $color-main-light;
		border-color: lighten($color-main-light, 20%);

		&:focus,
		&:hover {
			color: lighten($color-main-light, 5%);
			border-color: lighten($color-main-light, 25%);
		}
	}
}

.button-caption {
	display: inline-block;
	vertical-align: middle;
}

.bubblable {
	@extend .transformable;
	will-change: -webkit-transform;
	
	&:hover,
	&:focus { @include transform(translate3d(0,-5px,0)); }
	&:active { @include transform(translate3d(0,-5px,0) scale(.9)); }
}

p {
	&:first-child { margin-top: 0; }
	&:last-child { margin-bottom: 0; }
}

/* ======= Styles ======= */
.crowded { line-height: 1.25; }

.centered { text-align: center; }

// Hack, so it would override .centered
.page-content { text-align: left; }

/* ======= Transitions ======= */
// Properties
.transformable { @include transition-transform($duration $easing-cubic); }
.transformable-rough { @include transition-transform($duration $easing-cubic-rough); }
.transformable-rough-slow { @include transition-transform($duration * 1.5 $easing-cubic-rough); }
.transformable-toned { @include transition-transform($duration * 1.5 ease-out); }

.widthable { @include transition(width $duration $easing-cubic-out); }
.fadable { @include transition(opacity $duration $easing-cubic-out); }

.t-out { @include transition-timing-function(ease-out !important); }
.t-normal { @include transition-duration($duration !important); }

// Flock-based delays
@for $i from 1 to 13 {
	.flock > :nth-child(#{$i}),
	.flock > :nth-child(#{$i}) .flockable,
	.flock-out > :nth-last-child(#{$i}),
	.flock-out > :nth-last-child(#{$i}) .flockable { @include transition-delay(.04s * $i); }
}
// Fixed delays
@for $i from 1 to 10 {
	.d#{$i} { @include animation-delay(.05s * $i !important); }
}

/* ======= Hacks/Transforms ======= */
.showcase-art *:not(.s-sketch),
.will-change { @include transform(translate3d(0,0,0)); }

/* ======= States ======= */
.hidden { display: none; }
.transparent {
	opacity: 0 !important;
	pointer-events: none;
}
.opaque { opacity: 1 !important; }